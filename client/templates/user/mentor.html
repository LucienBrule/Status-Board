<template name="user_mentor">
  {{#if isInRole 'mentor'}}
  <div id="user-mentor">

    <div class="">

      <div class="row">
        <div class="col-xs-offset-1">
          <h3>Mentoring Status</h3>
          {{#if checked_in}}
            {{#if active}}
              <div class="btn btn-danger user-mentor-btn" value="suspend">
                Suspend
              </div>
            {{else}}
              <div class="btn btn-success user-mentor-btn" value="activate">
                Activate
              </div>
            {{/if}}
          {{else}}
          <p>
            <b>You have not checked in yet. You cannot be added to the active
            mentor queue until you check in.</b> 
          </p>
          {{/if}}
        </div>
      </div>

      <div class="row">
        <div class="col-xs-offset-1">
          <h3>Current Assignment</h3>
          {{#if assignment}}
            <dl class="dl-horizontal">
              {{#with assignment}}
                <dt>Mentee</dt><dd>{{ name }}</dd>
                <dt>Tag</dt><dd>{{ tag }}</dd>
                <dt>Location</dt><dd>{{ loc }}</dd>
              {{/with}}
            </dl>
            <div class="btn btn-success user-mentor-btn" value="complete-task"
              title="Mark the current assignment as complete">
              Complete
            </div>
            <div class="btn btn-warning user-mentor-btn" value="waive-task"
              title="Give the current assignment to someone else">
              Waive
            </div>
          {{else}}
          <p>
            You do not currently have an assignment.
          </p>
          {{/if}}
        </div>
      </div>

      <div class="row">
        <div class="col-xs-offset-1">
          <h3>Skills</h3>
          {{#if editSkills}}
            <div class="row">
              <div class="col-xs-4" id="user-mentor-checkbox-langs">
                {{#each modifyLangs}}
                  <div class="checkbox">
                    {{#if checked}}
                      <label><input type="checkbox" name="{{name}}"
                        checked>{{name}}</label>
                    {{else}}
                      <label><input type="checkbox" name="{{name}}">{{name}}
                        </label>
                    {{/if}}
                  </div>
                {{/each}}
              </div>
              <div class="col-xs-4" id="user-mentor-checkbox-frames">
                {{#each modifyFrames}}
                  <div class="checkbox">
                    {{#if checked}}
                      <label><input type="checkbox" name="{{name}}"
                          checked>{{name}}</label>
                    {{else}}
                      <label><input type="checkbox" name="{{name}}">{{name}}
                        </label>
                    {{/if}}
                  </div>
                {{/each}}
              </div>
              <div class="col-xs-4" id="user-mentor-checkbox-apis">
                {{#each modifyApis}}
                  <div class="checkbox">
                    {{#if checked}}
                      <label><input type="checkbox" name="{{name}}"
                        checked>{{name}}</label>
                    {{else}}
                      <label><input type="checkbox" name="{{name}}">{{name}}
                        </label>
                    {{/if}}
                  </div>
                {{/each}}
              </div>
            </div>
            <div class="row">
              <div class="col-xs-offset-4 col-xs-2">
                <div class="btn btn-primary user-mentor-btn"
                  value="save-skills">
                  Save Changes
                </div>
              </div>
            </div>
          {{else}}
            <div class="row mentor-tag-list">
              <div class="col-xs-12">
                {{#each skills}}
                  <span class="btn btn-sm btn-default disabled skill-tag">
                    {{ this }}</span>
                {{/each}}
              </div>
            </div>
          {{/if}}
          <div class="btn btn-primary user-mentor-btn"
            value="edit-skills">
            Edit Skills
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-offset-1">
          <h3>History</h3>
          <table class="table">
            <tr>
              <th>Name</th>
              <th>Tag</th>
              <th>Location</th>
              <th>Time Completed</th>
            </tr>
            <tbody>
              {{#each history}}
                <tr>
                  <td>{{name}}</td>
                  <td>{{tag}}</td>
                  <td>{{loc}}</td>
                  <td>{{time}}</td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>

  {{else}}
    <h1>Unauthorized Access</h1>
  {{/if}}
</template>
