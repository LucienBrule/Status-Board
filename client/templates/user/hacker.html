<template name="user_hacker">
  {{#if isInRole 'hacker'}}
  <div id="user-hacker">
    <h1>Hacker Dashboard</h1>
    <div class="row">
      <i>Connect with your team.</i> If no one on your team has added your
      repository yet, then you should go ahead and do that now! Otherwise,
      you can join an existing project.*
    </div>
    <div class="row">
      {{#if repository}}
      <div class="col-xs-1 col-xs-offset-4">
        <div class="btn btn-danger" id="user-hacker-leave-repo">Leave Project</div>
      </div>
      {{else}}
      <div class="col-xs-1 col-xs-offset-4">
        <div class="btn btn-primary" data-toggle="modal" data-target="#join-repo-modal">Join Project</div>
      </div>
      {{/if}}
    </div>
    <div class="user-settings-table">
      <div class="row">
        <div class="col-xs-4 user-information-label">GitHub Handle</div>
        <div class="col-xs-8">{{ handle }}</div>
      </div>
      <div class="row">
        <div class="col-xs-4 user-information-label">GitHub Repository</div>
        <div class="col-xs-8">{{ repository }}</div>
      </div>
      <div class="row">
        <div class="col-xs-4 user-information-label">ChallengePost Link</div>
        <div class="col-xs-8">
          {{#if challengePost }}
            <a href="{{ challengePost }}">Link</a>
          {{/if}}
          <div class="btn btn-link" id="user-challengePost-edit" data-toggle="modal" data-target="#edit-ChallengePost-modal">Edit</div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-4 user-information-label">Team Members</div>
        <div class="col-xs-8">
          {{ teamMembers }}
        </div>
      </div>
    </div>

    <div class="row">
      *Status Board is currently only compatible with GitHub repositories. If
      for some reason, your team has elected to not use GitHub, then you will be
       unable to participate in this aspect of the Status Board.
    </div>
  </div>

  <div class="modal fade" id="join-repo-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Join a Project</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="github-handle-input">GitHub Handle</label>
              <input type="text" class="form-control" id="github-handle-input">
            </div>
            <div class="form-group">
              <label for="github-repo-input">GitHub Repository Name</label>
              <input type="text" class="form-control" id="github-repo-input">
            </div>
            {{#if add_new_repo}}
              <div class="alert alert-info">
                It appears this is a new repository! Please provide the GitHub handle
                of the owner of the repository.
              </div>
              <div class="form-group">
                <label for="github-repo-owner-input">GitHub Repository Owner Handle</label>
                <input type="text" class="form-control" id="github-repo-owner-input">
              </div>
            {{/if}}
            <div id="user-hacker-alertbox"></div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="user-hacker-join-repo">Join Project</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="edit-ChallengePost-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Edit ChallengePost Link</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="challengePost-input">Enter a link to your project on ChallengePost! (Set it up now *hint, hint*)</label>
              <input type="text" class="form-control" id="challengePost-input">
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" id="user-challengePost-save">Save</button>
        </div>
      </div>
    </div>
  </div>

  {{else}}
  <h1>Unauthorized Access</h1>
  {{/if}}
</template>
